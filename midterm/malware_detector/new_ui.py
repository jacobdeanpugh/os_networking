import customtkinter
from .config import config
from .signatures import Signature_Manager

class App():
    def __init__(self):
        self.signature_manager = Signature_Manager()

        customtkinter.set_appearance_mode(config["ui"]["appearance_mode"])
        customtkinter.set_default_color_theme(config["ui"]["color_theme"])

        self.root = customtkinter.CTk()
        self.root.geometry("750x750")

        self.main_label = customtkinter.CTkLabel(self.root, text="Malware Detector")
        self.main_label.pack(padx=10, pady=20)

        self.main_frame = customtkinter.CTkFrame(self.root)
        self.main_frame.pack(fill="both", expand=True, padx=50, pady=10)
        self.elements = {}

        self.render_main_menu()


    def reset_view(self):
        for widget in self.main_frame.winfo_children():
            widget.destroy()

    def render_main_menu(self):
        file_scan_btn = customtkinter.CTkButton(self.main_frame, text="Scan File")
        file_scan_btn.grid(row=0, column=0, padx=20, pady=20)
        self.elements["file_scan_btn"] = file_scan_btn

        file_scan_label = customtkinter.CTkLabel(self.main_frame, text="No File Scanned")
        file_scan_label.grid(row=0, column=4)
        self.elements["file_scan_label"] = file_scan_label

    def scan_file(self):
        pass
        

    def start(self):
        self.root.mainloop()

app = App()
app.start()